grammar org.eclipse.xtext.services.Services with org.eclipse.xtext.xbase.Xbase

generate services "http://www.eclipse.org/xtext/services/Services"

ServicesFile:
	component=Component
;

Component:
	'package' packageName=QualifiedName
	(imports+=Import)*
	"component" name=ValidID '{'
		('requires' requires+=RequireDeclaration (',' requires+=RequireDeclaration)*)?
		(services+=Service)*
	'}'
;


Service:
	(service?='service' '[' (get?='GET' | post?='POST' | put?='PUT' | delete?='DELETE') ']')? name=ValidID'(' (params+=FullJvmFormalParameter(',' params+=FullJvmFormalParameter)*)? ')' 
		':' type=JvmTypeReference
		body=XBlockExpression
;

RequireDeclaration:
	type=JvmTypeReference (name=ID)?
;


Import:
	"import" importedNamespace=QualifiedName
;

